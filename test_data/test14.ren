use std.assert

extern fn printf(format: {u8}, ...) -> i32

fn double(n: {i32}) -> bool
{
    n.* *= 2

    return true
}

fn main() -> i32
{
    var num = 3
    
    if true and 1 == 1 or double(num.&) {
    }
    
    if false and double(num.&)
    {
        printf("TRUE\n")
    }
    else true or double(num.&)
    {
        printf("MIDDLE\n")
    }
    else
    {
        printf("FALSE\n")
    }
    
    assert_msg(num == 3, "Short circuit not working correctly.")    

    return 0
}

// a and b  =>  if a { b } else { false }

// a or b   =>  if a { true } else { b }