use std.assert

struct NestedStruct
{
    z: f64,
    b: {u32},
}

struct TestStruct
{
    x: u32,
    y: {NestedStruct},
}

function double(n: {i32})
{
    n.* *= 2
}

function main() -> i32
{
    var i = 3
    var s = NestedStruct { 123.321, i.& }
    var k = TestStruct { 456, s.& }
    double(k.y.*.b)
    k.y.*.b.* += 2
    assert(i == 8)
    printf("Output: %d", i)
    
    return 0
}