//extern fn printf(format: {u8}, ...) -> i32

struct NestedStruct
{
    z: f64,
    b: {u32},
}

struct TestStruct
{
    x: u32,
    y: {NestedStruct},
}

fn main() -> i32
{
    var i = 3
    var s = NestedStruct { 123.321, i.& }
    var k = TestStruct { 123, s.& }
    k.y.*.b.* += 2
    //std::assert(i == 8)
    //printf("Output: %d", i)

    return 0
}

/*
extern fn printf(format: {u8}, ...) -> i32

struct NestedStruct
{
    z: f64,
    b: {u32},
}

struct TestStruct
{
    x: u32,
    y: {NestedStruct},
}

fn double(n: {u32})
{
    n.* *= 2
}

fn main() -> i32
{
    var i = 3
    var s = NestedStruct { 123.321, i.& }
    var k = TestStruct { 456, s.& }
    double(k.y.*.b)
    k.y.*.b.* += 2
    std::assert(i == 8)
    printf("Output: %d", i)

    return 0
}
*/