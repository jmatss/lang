use std.assert

struct TestStruct<T>
{
    inner: T,
}

function main() -> i32
{
    var i1 = 1
    var i2 = 2
    var f1 = 123.
    var f2 = 456.

    var test_struct_i32 = TestStruct { i1 }
    var test_struct_u64 = TestStruct<u64> { i2 }
    var test_struct_f32 = TestStruct { f1 }
    var test_struct_f64 = TestStruct<f64> { f2 }

    // TODO: Make this work, should be possible:
    //var expected_i32: i8 = 1
    var expected_i32 = 1
    var expected_u64 = 2
    var expected_f32 = 123.
    var expected_f64 = 456.

    printf("expected_i32: %d, test_struct_i32.inner: %d\n", expected_i32, test_struct_i32.inner)
    assert(expected_i32 == test_struct_i32.inner)
    printf("expected_u64: %llu, test_struct_u64.inner: %llu\n", expected_u64, test_struct_u64.inner)
    assert(expected_u64 == test_struct_u64.inner)
    printf("expected_f32: %f, test_struct_f32.inner: %f\n", expected_f32 as f64, test_struct_f32.inner as f64)
    assert(expected_f32 == test_struct_f32.inner)
    printf("expected_f64: %f, test_struct_f64.inner: %f", expected_f64, test_struct_f64.inner)
    assert(expected_f64 == test_struct_f64.inner)

    return 0
}