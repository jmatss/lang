use std.assert

function main() -> i32
{
    test_normal()
    test_default()
    test_enum()

    return 0
}

function test_normal()
{
    var correct
    var value = 1

    match value
    {
        1 {
            correct = true
            printf("1")
        }

        default {
            correct = false
            printf("default")
        }
    }

    assert(correct)
}

function test_default()
{
    var correct
    var value = 99

    match value
    {
        1 {
            correct = false
            printf("\n1")
        }

        default {
            correct = true
            printf("\ndefault")
        }
    }

    assert(correct)
}

enum TestEnum
{
    FIRST,
    SECOND,
}

function test_enum()
{
    var correct
    var value = TestEnum::SECOND

    match value
    {
        TestEnum::FIRST {
            correct = false
            printf("\nFIRST")
        }

        TestEnum::SECOND {
            correct = true
            printf("\nSECOND")
        }
    }

    assert(correct)
}
